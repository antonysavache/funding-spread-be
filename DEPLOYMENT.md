# üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Vercel

## –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Ä–µ—à–µ–Ω—ã:

### 1. ‚ùå EADDRINUSE: address already in use :::3000
**–ü—Ä–æ–±–ª–µ–º–∞:** NestJS –ø—ã—Ç–∞–ª—Å—è —Å–ª—É—à–∞—Ç—å –ø–æ—Ä—Ç 3000 –≤ serverless –æ–∫—Ä—É–∂–µ–Ω–∏–∏
**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª `api/index.ts` –¥–ª—è Vercel —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

### 2. ‚ùå Vercel Runtime Timeout Error: Task timed out after 60 seconds
**–ü—Ä–æ–±–ª–µ–º–∞:** –î–æ–ª–≥–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
**–†–µ—à–µ–Ω–∏–µ:** 
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è production
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –¥–æ 1024MB

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è Vercel:

```
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îî‚îÄ‚îÄ index.ts          # Entry point –¥–ª—è Vercel
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.ts           # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª NestJS
‚îÇ   ‚îî‚îÄ‚îÄ ...              # –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ vercel.json          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel
‚îî‚îÄ‚îÄ package.json         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## üõ† –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è:

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Vercel CLI** (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):
   ```bash
   npm i -g vercel
   ```

2. **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å Vercel**:
   ```bash
   npm run vercel:dev
   ```

3. **–î–µ–ø–ª–æ–π –Ω–∞ Vercel**:
   ```bash
   vercel --prod
   ```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ vercel.json:

- **maxDuration**: 30 —Å–µ–∫—É–Ω–¥ (–º–∞–∫—Å–∏–º—É–º –¥–ª—è serverless —Ñ—É–Ω–∫—Ü–∏–π)
- **memory**: 1024MB (–¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏)
- **regions**: ["iad1"] (–°–®–ê, –≤–æ—Å—Ç–æ—á–Ω–æ–µ –ø–æ–±–µ—Ä–µ–∂—å–µ)

## üìä Endpoints –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

- `GET /` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± API
- `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
- `GET /api/funding/all` - –í—Å–µ –¥–∞–Ω–Ω—ã–µ
- `GET /api/funding/summaries` - –°–≤–æ–¥–∫–∞
- `GET /api/funding/arbitrage` - –ê—Ä–±–∏—Ç—Ä–∞–∂
- `GET /api/funding/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## üêõ –û—Ç–ª–∞–¥–∫–∞:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel**:
   ```bash
   vercel logs [deployment-url]
   ```

2. **–¢–µ—Å—Ç –ª–æ–∫–∞–ª—å–Ω–æ**:
   ```bash
   npm run start:dev
   curl http://localhost:3000/health
   ```

3. **–¢–µ—Å—Ç –Ω–∞ Vercel**:
   ```bash
   curl https://your-deployment.vercel.app/health
   ```

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ production
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ CORS
- ‚úÖ Graceful error handling
- ‚úÖ –ò—Å–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑ —Å–±–æ—Ä–∫–∏
